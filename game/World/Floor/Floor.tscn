[gd_scene load_steps=6 format=2]

[ext_resource path="res://World/Floor/Floor.gd" type="Script" id=1]
[ext_resource path="res://3D/Level/Level.meshlib" type="MeshLibrary" id=2]

[sub_resource type="NavigationMesh" id=6]
vertices = PoolVector3Array( 18.7719, 1.6872, -1.99999, 18.7719, 1.6872, -11, 15.7719, 1.6872, -6.99999, 54.7719, 1.6872, -20, 61.7719, 1.6872, -20, 61.7719, 1.6872, -22, 50.7719, 1.6872, -22, -8.22808, 1.6872, -6.99999, -16.2281, 1.6872, -6.99999, -22.2281, 1.6872, 1.00001, -22.2281, 1.6872, 8.00001, -4.22808, 1.6872, 14, -2.22808, 1.6872, 12, 47.7719, 1.6872, -20, 54.7719, 1.6872, -20, 50.7719, 1.6872, -22, 47.7719, 1.6872, -20, 50.7719, 1.6872, -22, 40.7719, 1.6872, -22, 40.7719, 1.6872, -20, 21.7719, 1.6872, 12, 21.7719, 1.6872, 1.14441e-05, 18.7719, 1.6872, -1.99999, 9.77192, 1.6872, 12, 33.7719, 1.6872, -20, 40.7719, 1.6872, -20, 40.7719, 1.6872, -22, 29.7719, 1.6872, -22, 5.77192, 1.6872, -6.99999, -6.22808, 1.6872, -8.99999, -8.22808, 1.6872, -6.99999, -2.22808, 1.6872, 12, 9.77192, 1.6872, 12, 18.7719, 1.6872, -1.99999, 26.7719, 1.6872, -20, 33.7719, 1.6872, -20, 29.7719, 1.6872, -22, 26.7719, 1.6872, -20, 29.7719, 1.6872, -22, 19.7719, 1.6872, -22, 19.7719, 1.6872, -20, 18.7719, 1.6872, -1.99999, 15.7719, 1.6872, -6.99999, 5.77192, 1.6872, -6.99999, 12.7719, 1.6872, -20, 19.7719, 1.6872, -20, 19.7719, 1.6872, -22, 8.77192, 1.6872, -22, 5.77192, 1.6872, -6.99999, 3.77192, 1.6872, -8.99999, -6.22808, 1.6872, -8.99999, 5.77192, 1.6872, -20, 12.7719, 1.6872, -20, 8.77192, 1.6872, -22, -1.22808, 1.6872, -22, -16.2281, 1.6872, -6.99999, -22.2281, 1.6872, -5.99999, -22.2281, 1.6872, 1.00001, 3.77192, 1.6872, -18, 5.77192, 1.6872, -20, -1.22808, 1.6872, -22, -22.2281, 1.6872, -22, -22.2281, 1.6872, -20, -15.2281, 1.6872, -20, -12.2281, 1.6872, -22, -22.2281, 1.6872, 15, -22.2281, 1.6872, 22, -4.22808, 1.6872, 22, -4.22808, 1.6872, 14, -12.2281, 1.6872, -22, -15.2281, 1.6872, -20, -8.22808, 1.6872, -20, -1.22808, 1.6872, -22, -22.2281, 1.6872, 8.00001, -22.2281, 1.6872, 15, -4.22808, 1.6872, 14, -1.22808, 1.6872, -22, -8.22808, 1.6872, -20, -6.22808, 1.6872, -18, 3.77192, 1.6872, -18, -1.22808, 1.6872, -22, -6.22808, 1.6872, -18, -6.22808, 1.6872, -8.99999, 3.77192, 1.6872, -8.99999, 30.7719, 1.6872, 25, 27.7719, 1.6872, 29, 35.7719, 1.6872, 29, 37.7719, 1.6872, 25, 47.7719, 1.6872, 22, 45.7719, 1.6872, 26, 47.7719, 1.6872, 31, 47.7719, 1.6872, 31, 42.7719, 1.6872, 36, 43.7719, 1.6872, 38, 51.7719, 1.6872, 38, 28.7719, 1.6872, 12, 30.7719, 1.6872, 14, 32.7719, 1.6872, 14, 32.7719, 1.6872, 7.00001, 49.7719, 1.6872, -11, 38.7719, 1.6872, -11, 39.7719, 1.6872, -6.99999, 51.7719, 1.6872, -6.99999, 43.7719, 1.6872, 22, 37.7719, 1.6872, 25, 45.7719, 1.6872, 26, 47.7719, 1.6872, 22, 49.7719, 1.6872, -11, 51.7719, 1.6872, -6.99999, 53.7719, 1.6872, -4.99999, 61.7719, 1.6872, 1.00001, 61.7719, 1.6872, -11, 61.7719, 1.6872, 25, 61.7719, 1.6872, 13, 53.7719, 1.6872, 14, 30.7719, 1.6872, 14, 30.7719, 1.6872, 25, 37.7719, 1.6872, 25, 43.7719, 1.6872, 22, 38.7719, 1.6872, 16, 32.7719, 1.6872, 14, 61.7719, 1.6872, 1.00001, 53.7719, 1.6872, -4.99999, 53.7719, 1.6872, 4.00001, 61.7719, 1.6872, 13, 61.7719, 1.6872, 1.00001, 53.7719, 1.6872, 4.00001, 53.7719, 1.6872, 14, 32.7719, 1.6872, 7.00001, 32.7719, 1.6872, 1.14441e-05, 21.7719, 1.6872, 1.14441e-05, 21.7719, 1.6872, 12, 28.7719, 1.6872, 12, 51.7719, 1.6872, 38, 61.7719, 1.6872, 38, 61.7719, 1.6872, 31, 47.7719, 1.6872, 31, 51.7719, 1.6872, 38, 61.7719, 1.6872, 31, 61.7719, 1.6872, 25, 53.7719, 1.6872, 14, 47.7719, 1.6872, 22, 38.7719, 8.4872, -0.999989, 38.7719, 8.4872, 10, 47.7719, 8.4872, 10, 47.7719, 8.4872, -0.999989, 1.77192, 8.4872, 18, 1.77192, 8.4872, 27, 12.7719, 8.4872, 27, 12.7719, 8.4872, 18, 41.7719, 1.6872, 62, 41.7719, 1.6872, 60, 38.7719, 1.6872, 60, 34.7719, 1.6872, 62, 39.7719, 1.6872, 45, 37.7719, 1.6872, 36, 35.7719, 1.6872, 34, 34.7719, 1.6872, 50, -15.2281, 1.6872, 38, -15.2281, 1.6872, 42, -12.2281, 1.6872, 42, -9.22808, 1.6872, 45, -10.2281, 1.6872, 49, -8.22808, 1.6872, 50, -5.22808, 1.6872, 42, 28.7719, 1.6872, 62, 34.7719, 1.6872, 56, 34.7719, 1.6872, 50, 34.7719, 1.6872, 62, 38.7719, 1.6872, 60, 34.7719, 1.6872, 56, 28.7719, 1.6872, 62, 43.7719, 1.6872, 38, 42.7719, 1.6872, 36, 37.7719, 1.6872, 36, 39.7719, 1.6872, 45, -12.2281, 1.6872, 42, -9.22808, 1.6872, 45, -5.22808, 1.6872, 42, -2.22808, 1.6872, 37, -5.22808, 1.6872, 34, -15.2281, 1.6872, 38, 17.7719, 1.6872, 56, 15.7719, 1.6872, 62, 21.7719, 1.6872, 62, -2.22808, 1.6872, 54, -7.22808, 1.6872, 53, -9.22808, 1.6872, 57, -9.22808, 1.6872, 62, -0.228075, 1.6872, 62, -22.2281, 1.6872, 29, -17.2281, 1.6872, 36, -15.2281, 1.6872, 38, -18.2281, 1.6872, 52, -17.2281, 1.6872, 44, -21.2281, 1.6872, 44, -22.2281, 1.6872, 51, 15.7719, 1.6872, 54, 17.7719, 1.6872, 56, 28.7719, 1.6872, 62, -18.2281, 1.6872, 52, -22.2281, 1.6872, 51, -18.2281, 1.6872, 56, -12.2281, 1.6872, 57, 34.7719, 1.6872, 50, 35.7719, 1.6872, 34, 16.7719, 1.6872, 33, 7.77192, 1.6872, 37, 15.7719, 1.6872, 54, 28.7719, 1.6872, 62, -12.2281, 1.6872, 57, -18.2281, 1.6872, 56, -18.2281, 1.6872, 62, -9.22808, 1.6872, 62, 17.7719, 1.6872, 56, 21.7719, 1.6872, 62, 28.7719, 1.6872, 62, -9.22808, 1.6872, 57, -12.2281, 1.6872, 57, -9.22808, 1.6872, 62, -22.2281, 1.6872, 29, -22.2281, 1.6872, 36, -17.2281, 1.6872, 36, -5.22808, 1.6872, 34, -4.22808, 1.6872, 29, -4.22808, 1.6872, 22, -22.2281, 1.6872, 22, -22.2281, 1.6872, 29, -15.2281, 1.6872, 38, 35.7719, 1.6872, 34, 35.7719, 1.6872, 29, 27.7719, 1.6872, 29, 18.7719, 1.6872, 30, 16.7719, 1.6872, 33, 16.7719, 1.6872, 33, 9.77192, 1.6872, 33, 7.77192, 1.6872, 37, -0.228075, 1.6872, 44, -0.228075, 1.6872, 52, 6.77192, 1.6872, 54, 15.7719, 1.6872, 54, 7.77192, 1.6872, 37, -0.228075, 1.6872, 44, 7.77192, 1.6872, 37, -2.22808, 1.6872, 37, -5.22808, 1.6872, 42, -0.228075, 1.6872, 52, -2.22808, 1.6872, 54, -0.228075, 1.6872, 62, 4.77192, 1.6872, 59, 6.77192, 1.6872, 54, 56.7719, 1.6872, 57, 60.7719, 1.6872, 51, 57.7719, 1.6872, 45, 47.7719, 1.6872, 45, 45.7719, 1.6872, 51, 48.7719, 1.6872, 58, 61.7719, 5.9872, 51, 59.7719, 6.9872, 46, 52.7719, 7.0872, 45, 46.7719, 6.2872, 46, 48.7719, 7.6872, 56, 56.7719, 7.0872, 57, 49.7719, 6.6872, 45.5, 47.7719, 7.8872, 51, 52.7719, 6.9872, 56.5 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 4, 3, 5 ), PoolIntArray( 5, 3, 6 ), PoolIntArray( 9, 8, 10 ), PoolIntArray( 10, 8, 7 ), PoolIntArray( 10, 7, 12 ), PoolIntArray( 10, 12, 11 ), PoolIntArray( 13, 15, 14 ), PoolIntArray( 19, 18, 16 ), PoolIntArray( 16, 18, 17 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 25, 24, 26 ), PoolIntArray( 26, 24, 27 ), PoolIntArray( 29, 28, 30 ), PoolIntArray( 30, 28, 31 ), PoolIntArray( 31, 28, 32 ), PoolIntArray( 32, 28, 33 ), PoolIntArray( 34, 36, 35 ), PoolIntArray( 40, 39, 37 ), PoolIntArray( 37, 39, 38 ), PoolIntArray( 43, 42, 41 ), PoolIntArray( 45, 44, 46 ), PoolIntArray( 46, 44, 47 ), PoolIntArray( 50, 49, 48 ), PoolIntArray( 52, 51, 53 ), PoolIntArray( 53, 51, 54 ), PoolIntArray( 57, 56, 55 ), PoolIntArray( 60, 59, 58 ), PoolIntArray( 62, 61, 63 ), PoolIntArray( 63, 61, 64 ), PoolIntArray( 66, 65, 67 ), PoolIntArray( 67, 65, 68 ), PoolIntArray( 70, 69, 71 ), PoolIntArray( 71, 69, 72 ), PoolIntArray( 75, 74, 73 ), PoolIntArray( 78, 77, 76 ), PoolIntArray( 80, 79, 81 ), PoolIntArray( 81, 79, 83 ), PoolIntArray( 81, 83, 82 ), PoolIntArray( 87, 86, 84 ), PoolIntArray( 84, 86, 85 ), PoolIntArray( 90, 89, 88 ), PoolIntArray( 92, 91, 93 ), PoolIntArray( 93, 91, 94 ), PoolIntArray( 96, 95, 97 ), PoolIntArray( 97, 95, 98 ), PoolIntArray( 100, 99, 101 ), PoolIntArray( 101, 99, 102 ), PoolIntArray( 106, 105, 103 ), PoolIntArray( 103, 105, 104 ), PoolIntArray( 108, 107, 109 ), PoolIntArray( 109, 107, 111 ), PoolIntArray( 109, 111, 110 ), PoolIntArray( 114, 113, 112 ), PoolIntArray( 120, 119, 115 ), PoolIntArray( 115, 119, 116 ), PoolIntArray( 116, 119, 117 ), PoolIntArray( 117, 119, 118 ), PoolIntArray( 123, 122, 121 ), PoolIntArray( 127, 126, 124 ), PoolIntArray( 124, 126, 125 ), PoolIntArray( 132, 131, 128 ), PoolIntArray( 128, 131, 129 ), PoolIntArray( 129, 131, 130 ), PoolIntArray( 135, 134, 133 ), PoolIntArray( 136, 141, 137 ), PoolIntArray( 137, 141, 138 ), PoolIntArray( 138, 141, 139 ), PoolIntArray( 139, 141, 140 ), PoolIntArray( 145, 144, 142 ), PoolIntArray( 142, 144, 143 ), PoolIntArray( 149, 148, 146 ), PoolIntArray( 146, 148, 147 ), PoolIntArray( 151, 150, 152 ), PoolIntArray( 152, 150, 153 ), PoolIntArray( 155, 154, 156 ), PoolIntArray( 156, 154, 157 ), PoolIntArray( 160, 159, 158 ), PoolIntArray( 162, 161, 163 ), PoolIntArray( 163, 161, 164 ), PoolIntArray( 165, 167, 166 ), PoolIntArray( 169, 168, 170 ), PoolIntArray( 170, 168, 171 ), PoolIntArray( 173, 172, 174 ), PoolIntArray( 174, 172, 175 ), PoolIntArray( 177, 176, 178 ), PoolIntArray( 178, 176, 181 ), PoolIntArray( 178, 181, 180 ), PoolIntArray( 178, 180, 179 ), PoolIntArray( 184, 183, 182 ), PoolIntArray( 186, 185, 187 ), PoolIntArray( 187, 185, 188 ), PoolIntArray( 188, 185, 189 ), PoolIntArray( 190, 192, 191 ), PoolIntArray( 195, 194, 196 ), PoolIntArray( 196, 194, 193 ), PoolIntArray( 199, 198, 197 ), PoolIntArray( 201, 200, 202 ), PoolIntArray( 202, 200, 203 ), PoolIntArray( 209, 208, 204 ), PoolIntArray( 204, 208, 205 ), PoolIntArray( 205, 208, 206 ), PoolIntArray( 206, 208, 207 ), PoolIntArray( 211, 210, 212 ), PoolIntArray( 212, 210, 213 ), PoolIntArray( 216, 215, 214 ), PoolIntArray( 219, 218, 217 ), PoolIntArray( 222, 221, 220 ), PoolIntArray( 224, 223, 225 ), PoolIntArray( 225, 223, 228 ), PoolIntArray( 225, 228, 227 ), PoolIntArray( 225, 227, 226 ), PoolIntArray( 230, 229, 231 ), PoolIntArray( 231, 229, 232 ), PoolIntArray( 232, 229, 233 ), PoolIntArray( 236, 235, 234 ), PoolIntArray( 238, 237, 239 ), PoolIntArray( 239, 237, 241 ), PoolIntArray( 239, 241, 240 ), PoolIntArray( 245, 244, 242 ), PoolIntArray( 242, 244, 243 ), PoolIntArray( 246, 250, 247 ), PoolIntArray( 247, 250, 249 ), PoolIntArray( 247, 249, 248 ), PoolIntArray( 252, 251, 253 ), PoolIntArray( 253, 251, 256 ), PoolIntArray( 253, 256, 255 ), PoolIntArray( 253, 255, 254 ), PoolIntArray( 260, 263, 264 ), PoolIntArray( 264, 263, 259 ), PoolIntArray( 264, 259, 261 ), PoolIntArray( 261, 259, 265 ), PoolIntArray( 265, 259, 262 ), PoolIntArray( 262, 259, 258 ), PoolIntArray( 262, 258, 257 ) ]
cell/size = 1.0
cell/height = 0.1
agent/height = 1.5
agent/radius = 2.5

[sub_resource type="SpatialMaterial" id=5]
flags_unshaded = true
flags_use_point_size = true
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 45, 0.1, 45 )

[node name="Floor" type="Navigation"]
script = ExtResource( 1 )

[node name="Street" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.5, 0 )
mesh_library = ExtResource( 2 )
cell_size = Vector3( 1, 0.05, 1 )
cell_octant_size = 10
cell_scale = 0.03
data = {
"cells": PoolIntArray( 2031644, 1, 1441805, 2097145, 65516, 5, 2097145, 65528, 14 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 31, 0 )
}

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.5, 0 )
navmesh = SubResource( 6 )

[node name="Buildings" type="GridMap" parent="NavigationMeshInstance"]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 3, 3, 3 )
cell_octant_size = 10
cell_scale = 0.022
data = {
"cells": PoolIntArray( 14, 1, 1441844, 7, 6, 655465, 2, 7, 655410, 65529, 13, -1610612420, 65527, 15, 1442109, 65531, 15, -1609563843, 65534, 16, -1609170627, 65527, 17, -1609563843, 65532, 17, -1609957058, 4, 19, 318, 2, 20, 538313021, 65528, 20, 1442109, 7, 21, -1609957059, 0, 22, 1442109, 4, 22, 537526589, 65530, 22, 655676, 65533, 22, 536871229, 3, 65531, 536870980, 65531, 65531, 536870980, 10, 65533, 536870976 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Floor" type="GridMap" parent="NavigationMeshInstance"]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 10, 1, 10 )
cell_scale = 0.1
data = {
"cells": PoolIntArray( 65536, 0, 655469, 65539, 0, 655469, 65542, 0, 655469, 65536, 3, -1609957267, 65539, 3, 655469, 65542, 3, 655469, 131069, 7, -1610612627, 131071, 7, -1610612627, 65536, 65533, 655469, 65539, 65533, 537526381, 65542, 65533, 537526381 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 1, 0 )
}

[node name="Props" type="GridMap" parent="NavigationMeshInstance"]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 1, 1, 1 )
cell_octant_size = 10
cell_scale = 0.03
data = {
"cells": PoolIntArray( 65580, 15, 1441886, 131091, 25, 1245268, 131094, 25, 1245268, 65577, 30, 125, 65538, 31, 1441885, 65576, 49, 655639, 65575, 51, 1442069, 65588, 51, 655481, 65576, 52, 1441965, 65575, 53, 655637, 65576, 55, 279, 131050, 65524, 1441884, 65560, 65528, 1441832 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 1, 0 )
}

[node name="Walls" type="GridMap" parent="NavigationMeshInstance"]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 1, 1, 1 )
cell_octant_size = 10
cell_scale = 0.05
data = {
"cells": PoolIntArray( 23, 65520, 81, 41, 65520, 81, 53, 65520, 81, 65512, 65520, 33, 65518, 65520, 33 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="DebugPath" type="ImmediateGeometry" parent="."]
material_override = SubResource( 5 )

[node name="StaticBody" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0, 20 )
shape = SubResource( 3 )

[connection signal="input_event" from="StaticBody" to="." method="_on_input_event"]
